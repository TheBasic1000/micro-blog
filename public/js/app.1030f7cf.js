(function(t){function e(e){for(var a,o,i=e[0],c=e[1],l=e[2],d=0,m=[];d<i.length;d++)o=i[d],n[o]&&m.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,i=1;i<s.length;i++){var c=s[i];0!==n[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},n={app:0},r=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),n=new a["a"],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Navbar"),s("router-view")],1)},o=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("router-link",{attrs:{to:"/"}},[s("li",{staticClass:"nav-item nav-link"},[t._v("Home")])]),s("router-link",{attrs:{to:"/search"}},[s("li",{staticClass:"nav-item nav-link"},[t._v("Search")])]),t.isLoggedIn?s("router-link",{attrs:{to:"/profile"}},[s("li",{staticClass:"nav-item nav-link"},[t._v("Profile")])]):t._e(),t.isLoggedIn?t._e():s("router-link",{attrs:{to:"/login"}},[s("li",{staticClass:"nav-item nav-link"},[t._v("Log In")])]),t.isLoggedIn?t._e():s("router-link",{attrs:{to:"/signup"}},[s("li",{staticClass:"nav-item nav-link"},[t._v("Sign Up")])]),s("a",{attrs:{href:"#"}},[t.isLoggedIn?s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",on:{click:function(e){return t.logOut()}}},[t._v("Log Out")])]):t._e()])],1)])])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],l={data:function(){return{isLoggedIn:this.authenticate()}},created:function(){var t=this;this.$bus.$on("logged",function(){t.authenticate()})},methods:{authenticate:function(){var t=this,e="/users/authenticate",s={withCredentials:!0};this.axios.get(e,s).then(function(e){t.isLoggedIn=e.data})},logOut:function(){var t=this,e="/users/logout",s={withCredentials:!0};this.axios.get(e,s).then(function(){t.authenticate(),t.$bus.$emit("logged","User logged out")}),this.$router.push("/")}}},u=l,d=s("2877"),m=Object(d["a"])(u,i,c,!1,null,null,null),p=m.exports,v={components:{Navbar:p}},f=v,h=Object(d["a"])(f,r,o,!1,null,null,null),g=h.exports,b=s("8c4f"),_=s("bc3a"),C=s.n(_),w=s("a7fe"),y=s.n(w),x=s("cd4e"),k=s("d00d"),P=s.n(k),$=(s("ed27"),s("f59c"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 gedf-main"},[t.isLoggedIn?t._e():s("p",[t._v("Welcome to MicroBlog! "),s("router-link",{attrs:{to:"/signup"}},[t._v("Sign up")]),t._v(" or "),s("router-link",{attrs:{to:"/login"}},[t._v("Log In")]),t._v(" \n      to start publishing posts to the feed below.")],1),t.isLoggedIn?s("p",[t._v("Welcome to MicroBlog! You can create new posts below. Go to "),s("router-link",{attrs:{to:"/search"}},[t._v("Search")]),t._v(" to \n      make searchs by username or hashtag.")],1):t._e(),t.isLoggedIn?s("div",{staticClass:"card gedf-card mb-4"},[s("form",{staticClass:"card-body",on:{submit:function(e){return e.preventDefault(),t.addPost(e)}}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"sr-only",attrs:{for:"message"}},[t._v("post")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.content,expression:"post.content"}],staticClass:"form-control",attrs:{id:"message",rows:"3",placeholder:"What's up today?",maxlength:"330"},domProps:{value:t.post.content},on:{input:function(e){e.target.composing||t.$set(t.post,"content",e.target.value)}}})]),s("form",{on:{submit:function(e){return e.preventDefault(),t.addTag(e)}}},[s("div",{staticClass:"form-group form-inline"},[s("label",{staticClass:"sr-only",attrs:{for:"tag"}},[t._v("tag")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tag,expression:"tag"}],staticClass:"form-control col-md-4 mr-2",attrs:{id:"tag",rows:"1",placeholder:"New tag",maxlength:"30"},domProps:{value:t.tag},on:{input:function(e){e.target.composing||(t.tag=e.target.value)}}}),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Add")])])]),t._l(t.post.tags,function(e,a){return s("div",{key:a},[s("span",{staticClass:"badge badge-primary m-1 float-left"},[t._v(t._s(e)+" "),s("a",{staticClass:"badge badge-primary",attrs:{href:"#"},on:{click:function(e){return t.removeTag(a)}}},[s("b",[t._v("X")])])])])}),t._m(0)],2)]):t._e(),!1===t.postsFound?s("div",[s("h3",[t._v("There are no posts yet :(")])]):t._e(),t._l(t.reversePosts,function(e){return s("div",{key:e._id},[s("div",{staticClass:"card gedf-card mb-3"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("div",{staticClass:"ml-2"},[s("div",{staticClass:"h5 m-0"},[t._v(t._s(e.author_name))]),s("div",{staticClass:"h7 text-muted"},[t._v("@"+t._s(e.author_username))])])])])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"text-muted h7 mb-2"},[t._v(t._s(e.time))]),s("p",{staticClass:"card-text"},[t._v(t._s(e.content))]),t._l(e.tags,function(e){return s("div",{key:e},[s("span",{staticClass:"badge badge-primary mt-1 mr-1 mb-1 float-left"},[t._v(t._s(e))])])})],2)])])})],2)])])}),j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btn-toolbar justify-content-between float-right"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Publish")])])}],S={data:function(){return{isLoggedIn:this.authenticate(),tag:"",post:{content:"",tags:[]},posts:[],postsFound:!0}},computed:{reversePosts:function(){return this.posts.slice().reverse()}},created:function(){var t=this;this.$bus.$on("logged",function(){t.authenticate()}),this.fetchPosts()},methods:{authenticate:function(){var t=this,e="/users/authenticate",s={withCredentials:!0};this.axios.get(e,s).then(function(e){t.isLoggedIn=e.data})},fetchPosts:function(){var t=this,e="/posts/list";this.axios.get(e).then(function(e){t.posts=e.data,0===t.posts.length&&(t.postsFound=!1)})},addTag:function(){this.post.tags.push(this.tag),this.tag=""},removeTag:function(t){this.post.tags.splice(t,1)},addPost:function(){var t=this,e="/posts/add",s={withCredentials:!0};this.axios.post(e,this.post,s).then(function(e){console.log(e),t.fetchPosts(),t.post.content="",t.post.tags=[],t.postsFound=!0})}}},O=S,L=Object(d["a"])(O,$,j,!1,null,null,null),M=L.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 gedf-main"},[s("div",{staticClass:"text-center"},[s("p",{staticClass:"form-check form-check-inline"},[t._v("Search by: ")]),s("div",{staticClass:"form-check form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchMode,expression:"searchMode"}],staticClass:"form-check-input",attrs:{type:"radio",name:"exampleRadios",id:"username",value:"username"},domProps:{checked:t._q(t.searchMode,"username")},on:{change:function(e){t.searchMode="username"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"username"}},[t._v("\n            Username\n          ")])]),s("div",{staticClass:"form-check form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchMode,expression:"searchMode"}],staticClass:"form-check-input",attrs:{type:"radio",name:"exampleRadios",id:"tag",value:"tag"},domProps:{checked:t._q(t.searchMode,"tag")},on:{change:function(e){t.searchMode="tag"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"tag"}},[t._v("\n            Tag\n          ")])])]),s("div",{staticClass:"container mb-4"},[s("div",{staticClass:"row justify-content-center"},[s("form",{staticClass:"card card-sm",on:{submit:function(e){return e.preventDefault(),t.searchForPosts(e)}}},[s("div",{staticClass:"card-body row no-gutters align-items-center"},[t._m(0),s("div",{staticClass:"col m-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"form-control",attrs:{placeholder:"Search for posts"},domProps:{value:t.searchTerm},on:{input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}})]),t._m(1)])])])]),s("flash-message"),t._l(t.reversePosts,function(e){return s("div",{key:e._id},[s("div",{staticClass:"card gedf-card mb-3"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("div",{staticClass:"ml-2"},[s("div",{staticClass:"h5 m-0"},[t._v(t._s(e.author_name))]),s("div",{staticClass:"h7 text-muted"},[t._v("@"+t._s(e.author_username))])])])])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"text-muted h7 mb-2"},[t._v(t._s(e.time))]),s("p",{staticClass:"card-text"},[t._v(t._s(e.content))]),t._l(e.tags,function(e){return s("div",{key:e},[s("span",{staticClass:"badge badge-primary mt-1 mr-1 mb-1 float-left"},[t._v(t._s(e))])])})],2)])])})],2)])])},N=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-auto"},[s("i",{staticClass:"fas fa-search h4 text-body"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-auto"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Search")])])}],I={data:function(){return{searchMode:"username",searchTerm:"",posts:[]}},computed:{reversePosts:function(){return this.posts.slice().reverse()}},methods:{searchForPosts:function(){var t=this,e="";"username"===this.searchMode?e="/posts/searchbyuser/":"tag"===this.searchMode&&(e="/posts/searchbytag/"),this.axios.get(e+this.searchTerm).then(function(e){t.posts=e.data,0===t.posts.length&&t.flash("No posts found","error"),t.searchTerm=""})}}},E=I,D=Object(d["a"])(E,T,N,!1,null,null,null),U=D.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("flash-message"),s("h1",[t._v("Profile")]),s("div",{staticClass:"themed-grid-col"},[t._v("Username: "+t._s(t.username))]),s("div",{staticClass:"themed-grid-col"},[t._v("Name: "+t._s(t.name))])],1)},B=[],W=(s("7f7f"),{data:function(){return{username:"",name:""}},created:function(){this.fetchDetails()},methods:{fetchDetails:function(){var t=this,e="/users/profile",s={withCredentials:!0};this.axios.get(e,s).then(function(e){t.username=e.data.username,t.name=e.data.name}).catch(function(e){console.log(e),t.flash("Couldn't fetch the user data","error")})}}}),q=W,J=Object(d["a"])(q,F,B,!1,null,null,null),R=J.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("flash-message"),s("form",{on:{submit:function(e){return e.preventDefault(),t.onLoginSubmit(e)}}},[s("div",{staticClass:"form-group"},[s("label",[t._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),s("button",{staticClass:"btn btn-warning btn-lg",attrs:{type:"submit"}},[t._v("Log in")])])],1)},G=[],H={data:function(){return{user:{username:"",password:""}}},methods:{onLoginSubmit:function(){var t=this,e="/users/login",s={withCredentials:!0};this.axios.post(e,this.user,s).then(function(e){!0===e.data.success?(t.$bus.$emit("logged","User logged"),t.$router.push("/profile"),t.flash(e.data.message,"success")):t.flash(e.data.message,"error")}).catch(function(e){console.log(e),t.flash(e.message,"error")})}}},X=H,Y=Object(d["a"])(X,A,G,!1,null,null,null),z=Y.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("flash-message"),s("form",{on:{submit:function(e){return e.preventDefault(),t.onSignupSubmit(e)}}},[s("div",{staticClass:"form-group"},[s("label",[t._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),s("button",{staticClass:"btn btn-warning btn-lg",attrs:{type:"submit"}},[t._v("Sign up")])])],1)},Q=[],V={data:function(){return{user:{username:"",name:"",password:""}}},methods:{onSignupSubmit:function(){var t=this,e="/users/signup",s={withCredentials:!0};this.axios.post(e,this.user,s).then(function(e){!0===e.data.success?(t.$router.push("/login"),t.flash(e.data.message,"success")):t.flash(e.data.message,"error")}).catch(function(e){console.log(e),t.flash(e.message,"error")})}}},Z=V,tt=Object(d["a"])(Z,K,Q,!1,null,null,null),et=tt.exports;a["a"].use(y.a,C.a),a["a"].use(b["a"]),a["a"].use(P.a,{messageOptions:{timeout:3e3}}),Object(x["loadProgressBar"])();var st=[{name:"index",path:"/",component:M},{name:"search",path:"/search",component:U},{name:"profile",path:"/profile",component:R},{name:"login",path:"/login",component:z},{name:"signup",path:"/signup",component:et}],at=new b["a"]({mode:"history",routes:st});a["a"].config.productionTip=!1,a["a"].prototype.$bus=n,new a["a"]({render:function(t){return t(g)},router:at}).$mount("#app")}});
//# sourceMappingURL=app.1030f7cf.js.map